import { Start as fG } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as fH, Create as fI, MarkResizable as fJ, Force as fK, GetOptional as fL, SetOptional as fM, OnLoad as fN } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fO){ return"Dispose"in fO;}
function b(){ const fO=m((fP) =>(fQ) =>(fR) =>(fS) => d(fP, fQ, fR, fS), l((fP) => { alert("Welcome to you "+fP.firstName+" "+fP.lastName+O("", w((fQ) =>", your "+String(fQ.Category)+" "+fQ.name, fP.pets))+"!");}, c(k("", "", []))));bo("");u0037.RunById("main", fO);}
function c(fO){ return q(W(W(W(n((fP) =>(fQ) =>(fR) => k(fP, fQ, fR)), X("Please enter your first name.", o(fO.firstName))), X("Please enter your last name.", o(fO.lastName))), p(fO.pets, N(Z.Hobbies, ""), e)));}
function d(fO, fP, fQ, fR){ return u0037.Element("section", [cB.Create("class", "section")], [u0037.Element("h1", [cB.Create("class", "subtitle")], [u0037.TextNode("TODO LIST")]), u0037.Element("div", [cB.Create("class", "field")], [u0037.Element("label", [cB.Create("class", "label")], [u0037.TextNode("First name: "), u0037.Input([cB.Create("class", "input")], fO)]), f(bi(fR.view, fO))]), u0037.Element("div", [cB.Create("class", "field")], [u0037.Element("label", [cB.Create("class", "label")], [u0037.TextNode("Last name: "), u0037.Input([cB.Create("class", "input")], fP)]), f(bi(fR.view, fP))]), u0037.Element("h2", [cB.Create("class", "subtitle")], [u0037.TextNode("Your Daily Schedule")]), u0037.Element("div", [], [fQ.Render((fS) =>(fT) =>(fU) => u0037.Element("div", [cB.Create("class", "field is-horizontal")], [u0037.Element("div", [cB.Create("class", "field-body")], [g(fT, fU), bl("Move up", [cB.Create("class", "button")], fS.moveUp), bl("Move down", [cB.Create("class", "button")], fS.moveDown), u0037.Button("Delete", [cB.Create("class", "button")], () => { fS.u0064elete();}), f(bi(fR.view, fU))])])), u0037.Button("Add Item", [cB.Create("class", "button")], () => { fQ.AddOne();})]), u0037.Element("div", [], [u0037.Button("Submit", [cB.Create("class", "button")], () => { fR.Trigger();})])]);}
function e(fO){ return W(W(n((fP) =>(fQ) => N(fP, fQ)), o(fO.Category)), X("Please Fill up your schedule.", o(fO.name)));}
function f(fO){ return u0037.EmbedView(u0038((fP) => { if(fP.$==1){ const fQ=fP.$0;return u0037.Concat(cF(x(() => w((fR) => u0037.Element("b", [cB.Create("style", "color:red")], [u0037.TextNode(fR.message)]), fQ))));} else return u0037.Empty;}, fO));}
function g(fO, fP){ return u0037.Concat([u0037.Element("div", [cB.Create("class", "field")], [u0037.Element("label", [cB.Create("class", "label")], [u0037.Radio([], Z.Hobbies, fO), u0037.TextNode(String(Z.Hobbies))])]), u0037.Element("div", [cB.Create("class", "field")], [u0037.Element("label", [cB.Create("class", "label")], [u0037.Radio([], Z.Career, fO), u0037.TextNode(String(Z.Career))])]), u0037.Element("div", [cB.Create("class", "field")], [u0037.Element("label", [cB.Create("class", "label")], [u0037.Radio([], Z.Lifestyle, fO), u0037.TextNode(String(Z.Lifestyle))])]), u0037.Element("div", [cB.Create("class", "field")], [u0037.Input([cB.Create("class", "input")], fP)])]);}
function h(fO){ throw new Error(fO);}
function i(fO){ return[fO.K, fO.V];}
function j(fO, fP){ const fQ=1+fP-fO;return fQ<=0?[]:G(fQ, (fR) => fR+fO);}
function k(fO, fP, fQ){ return{firstName:fO, lastName:fP, pets:fQ};}
function l(fO, fP){ return r((fQ) => { fO(fQ);return fQ;}, fP);}
function m(fO, fP){ const fQ=fP.render(fO);return u0037.Append(u0037.EmbedView(u0038(() => u0037.Empty, fP.view)), fQ);}
function n(fO){ return u0036(bC(), u0039(bE(fO)), (fP) => fP);}
function o(fO){ return t(bG.Create_1(fO));}
function p(fO, fP, fQ){ const fR=new bn(fQ, fO, fQ(fP), fP);return u0036(bC(), fR.out, (fS) => fS(fR));}
function q(fO){ const fP=new bj(fO.view, bF(bH.Empty));return u0036(bC(), fP.view, (fQ) =>(fO.render(fQ))(fP));}
function r(fO, fP){ return u((fQ) => bI(fO, fQ), fP);}
function s(fO, fP){ let fQ=bC();let fR=bb(bJ, fO.view, fP.view);const fS=fO.render;const fT=fP.render;return u0036(fQ, fR, (fU) => fT(fS(fU)));}
function t(fO){ return u0036(fO.Id, u0038(bE, fO.View), (fP) => fP(fO));}
function u(fO, fP){ return u0036(fP.id, u0038(fO, fP.view), fP.render);}
function v(fO){ let fP=[];let fQ;for(var fR in fO)fP.push(fO[fR]);return fP;}
function w(fO, fP){ return{GetEnumerator:() => { const fQ=u0030(fP);return new u0035(null, null, (fR) => fQ.MoveNext()&&(fR.c=fO(fQ.Current),true), () => { fQ.Dispose();});}};}
function x(fO){ return{GetEnumerator:() => u0030(fO())};}
function y(fO, fP){ return{GetEnumerator:() => { const fQ=u0030(fO);const fR=[true];return new u0035(fQ, null, (fS) => { if(fS.s.MoveNext()){ fS.c=fS.s.Current;return true;} else { const fT=fS.s;if(!bQ(fT, null))fT.Dispose();fS.s=null;return fR[0]&&(fR[0]=false,fS.s=u0030(fP),fS.s.MoveNext()?(fS.c=fS.s.Current,true):(fS.s.Dispose(),fS.s=null,false));} }, (fS) => { const fT=fS.s;if(!bQ(fT, null))fT.Dispose();});}};}
function z(fO){ const fP=u0030(fO);try { return fP.MoveNext()?fP.Current:ek();} finally { if(typeof fP=="object"&&a(fP))fP.Dispose();} }
function A(fO, fP){ const fQ=u0030(fP);try { while(fQ.MoveNext())fO(fQ.Current);} finally { if(typeof fQ=="object"&&a(fQ))fQ.Dispose();} }
function B(fO, fP){ const fQ=D(fO, fP);return fQ==null?h("KeyNotFoundException"):fQ.$0;}
function C(fO, fP, fQ){ let fR=fP;const fS=u0030(fQ);try { while(fS.MoveNext())fR=fO(fR, fS.Current);return fR;} finally { if(typeof fS=="object"&&a(fS))fS.Dispose();} }
function D(fO, fP){ const fQ=u0030(fP);try { let fR=true;let fS=0;while(fR&&fQ.MoveNext())if(fO(fQ.Current))fR=false;else fS=fS+1;return fR?null:dH(fS);} finally { if(typeof fQ=="object"&&a(fQ))fQ.Dispose();} }
function E(fO, fP){ return F(w(fO, fP));}
function F(fO){ return{GetEnumerator:() => { const fP=u0030(fO);function fQ(fR){ while(true){ const fS=fR.s;if(bQ(fS, null)){ if(fP.MoveNext()){ fR.s=u0030(fP.Current);fR=fR;} else { fP.Dispose();return false;} } else if(fS.MoveNext()){ fR.c=fS.Current;return true;} else { fR.Dispose();fR.s=null;fR=fR;} } } return new u0035(null, null, fQ, (fR) => { const fS=fR.s;if(!bQ(fS, null))fS.Dispose();if(!bQ(fP, null))fP.Dispose();});}};}
function G(fO, fP){ return H(fO, I(fP));}
function H(fO, fP){ fO<0?em():void 0;return{GetEnumerator:() => { const fQ=[u0030(fP)];return new u0035(0, null, (fR) => { fR.s=fR.s+1;if(fR.s>fO)return false;else { const fS=fQ[0];return bQ(fS, null)?ek():fS.MoveNext()?(fR.c=fS.Current,fR.s===fO?(fS.Dispose(),fQ[0]=null):void 0,true):(fS.Dispose(),fQ[0]=null,ek());} }, () => { const fR=fQ[0];if(!bQ(fR, null))fR.Dispose();});}};}
function I(fO){ return{GetEnumerator:() => new u0035(0, null, (fP) => { fP.c=fO(fP.s);fP.s=fP.s+1;return true;}, void 0)};}
function J(fO, fP){ return!L((fQ) =>!fO(fQ), fP);}
function K(fO){ const fP=u0030(fO);try { if(!fP.MoveNext())M();let fQ=fP.Current;while(fP.MoveNext()){ const fR=fP.Current;if(bY(fR, fQ)===1)fQ=fR;} return fQ;} finally { if(typeof fP=="object"&&a(fP))fP.Dispose();} }
function L(fO, fP){ const fQ=u0030(fP);try { let fR=false;while(!fR&&fQ.MoveNext())fR=fO(fQ.Current);return fR;} finally { if(typeof fQ=="object"&&a(fQ))fQ.Dispose();} }
function M(){ return h("The input sequence was empty.");}
function N(fO, fP){ return{Category:fO, name:fP};}
function O(fO, fP){ return b1(fP).join(fO);}
function P(fO, fP, fQ){ return R(fO, new RegExp("["+S(fP.join(""))+"]"), fQ);}
function Q(fO, fP){ return fO.substring(0, fP.length)==fP;}
function R(fO, fP, fQ){ return fQ===1?b6((fR) => fR!=="", U(fO, fP)):U(fO, fP);}
function S(fO){ return fO.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function T(fO, fP){ return J(fO, V(fP));}
function U(fO, fP){ return fO.split(fP);}
function V(fO){ return fO==null?"":fO;}
function W(fO, fP){ return s(fO, fP);}
function X(fO, fP){ return Y((fQ) => fQ!="", fO, fP);}
function Y(fO, fP, fQ){ return u((fR) => fR.$==1?fR:fO(fR.$0)?fR:bF(cE([new cC(fQ.id, fP)])), fQ);}
let Z=fH((fO) => class fP { static { Z=fO(this);} static Hobbies=fI(Z, {$:0});toString(){ return this.$==1?"Career":this.$==2?"Lifestyle":"Hobbies";} static Career=fI(Z, {$:1});static Lifestyle=fI(Z, {$:2});});
function u0030(fO){ return fO instanceof Array?u0031(fO):bQ(typeof fO, "string")?u0032(fO):fO.GetEnumerator();}
function u0031(fO){ return new u0035(0, null, (fP) => { const fQ=fP.s;return fQ<bN(fO)&&(fP.c=bM(fO, fQ),fP.s=fQ+1,true);}, void 0);}
function u0032(fO){ return new u0035(0, null, (fP) => { const fQ=fP.s;return fQ<fO.length&&(fP.c=fO[fQ],fP.s=fQ+1,true);}, void 0);}
function u0033(fO){ return fO instanceof Array?u0031(fO):bQ(typeof fO, "string")?u0032(fO):"GetEnumerator0"in fO?fO.GetEnumerator0():fO.GetEnumerator();}
let u0034=fH((fO) => class fP { static { u0034=fO(this);} Equals(fQ){ return this===fQ;} GetHashCode(){ return -1;} });
let u0035=fH((fO) => class fP extends u0034 { static { u0035=fO(this);} s;c;n;d;e;Dispose(){ if(this.d)this.d(this);} MoveNext(){ const fQ=this.n(this);this.e=fQ?1:2;return fQ;} get Current(){ return this.e===1?this.c:this.e===0?h("Enumeration has not started. Call MoveNext."):h("Enumeration already finished.");} constructor(fQ, fR, fS, fT){ super();this.s=fQ;this.c=fR;this.n=fS;this.d=fT;this.e=0;} });
function u0036(fO, fP, fQ){ return{id:fO, view:fP, render:fQ};}
let u0037=fH((fO) => class fP extends u0034 { static { u0037=fO(this);} docNode;updates;static Append(fQ, fR){ return u0037.Mk(cf(fQ.docNode, fR.docNode), $(fQ.updates, fR.updates));} static get Empty(){ return u0037.Mk(null, u0039());} static RunById(fQ, fR){ const fS=globalThis.document.getElementById(fQ);if(bQ(fS, null))h("invalid id: "+fQ);else u0037.Run(fS, fR);} static Mk(fQ, fR){ return new fP(fQ, fR);} static EmbedView(fQ){ const fR=cQ();return u0037.Mk(cg(fR), u0038(() => { }, bc((fS) => { cR(fR, fS.docNode);return fS.updates;}, fQ)));} static TextNode(fQ){ return u0037.Mk(ch(globalThis.document.createTextNode(fQ)), u0039());} static Input(fQ, fR){ return u0037.InputInternal("input", () => y(fQ, [dv(fR)]));} static Concat(fQ){ return dC(u0037.Empty, u0037.Append, dB(fQ));} static Button(fQ, fR, fS){ const fT=cB.Concat(fR);return d_.New(u0037.Clickable("button", fS), fT, u0037.TextNode(fQ));} static Run(fQ, fR){ cS(fQ, fR.docNode);u0037.RunInPlace(false, fQ, fR);} static Element(fQ, fR, fS){ const fT=cB.Concat(fR);const fU=u0037.Concat(fS);return d_.New(globalThis.document.createElement(fQ), fT, fU);} static InputInternal(fQ, fR){ const fS=globalThis.document.createElement(fQ);return d_.New(fS, cB.Concat(fR(fS)), u0037.Empty);} static ConvertBy(fQ, fR, fS){ return u0037.Flatten(bf(fQ, fR, fS));} static Radio(fQ, fR, fS){ const fT=globalThis.document.createElement("input");fT.addEventListener("click", () => fS.Set(fR), false);const fU=dx("checked", u0038((fV) => bQ(fV, fR), fS.View));return d_.New(fT, cB.Concat(cG(cE([cB.Create("type", "radio"), cB.Create("name", fS.Id), fU]), cF(fQ))), u0037.Empty);} static Clickable(fQ, fR){ const fS=globalThis.document.createElement(fQ);fS.addEventListener("click", (fT) => { fT.preventDefault();return fR();}, false);return fS;} static RunInPlace(fQ, fR, fS){ const fT=cU(fR, fS.docNode);bg(eo()||ev()?ew(cV(fQ, fT, fS.docNode)):() => { cW(fQ, fT, fS.docNode);}, fS.updates);} static Flatten(fQ){ return u0037.EmbedView(u0038(u0037.Concat, fQ));} constructor(fQ, fR){ super();this.docNode=fQ;this.updates=fR;} });
function u0038(fO, fP){ return ba(() => cj(fO, fP()));}
function u0039(fO){ const fP={s:dK(fO)};return() => fP;}
function $(fO, fP){ return ba(() => ck(fO(), fP()));}
function ba(fO){ const fP={c:null, o:fO};return() => { let fQ=fP.c;if(fQ===null){ fQ=fP.o();fP.c=fQ;const fR=fQ.s;if(fR!=null&&fR.$==0)fP.o=null;else cl(fQ, () => { fP.c=null;});return fQ;} else return fQ;};}
function bb(fO, fP, fQ){ return ba(() => co(fO, fP(), fQ()));}
function bc(fO, fP){ return be(u0038(fO, fP));}
function bd(fO, fP, fQ){ const fR={s:dL(fO, [])};return ba(() => fR.s==null?cv(fP(), fQ()):(cw(fP(), fR),fR));}
function be(fO){ return ba(() => cx(fO()));}
function bf(fO, fP, fQ){ const fR=[new cM("New_5")];return u0038((fS) => { const fT=fR[0];const fU=new cM("New_5");const fV=dE((fW) => { const fX=fO(fW);const fY=fT.ContainsKey(fX)?fT.Item(fX):fP(fW);fU.set_Item(fX, fY);return fY;}, b1(fS));fR[0]=fU;return fV;}, fQ);}
function bg(fO, fP){ function fQ(){ cy(fP(), fO, () => { eP().Fork(fQ);});} eP().Fork(fQ);}
let bh=fH((fO) => class fP extends u0034 { static { bh=fO(this);} });
function bi(fO, fP){ return u0038((fQ) => fQ.$==1?bF(cD((fR) => fR.id==fP.Id, fQ.$0)):fQ, fO);}
let bj=fH((fO) => class fP extends u0034 { static { bj=fO(this);} input;u0076ar;view;Trigger(){ this.u0076ar.Set(null);} constructor(fQ, fR){ super();this.input=fQ;this.u0076ar=bG.Create();this.view=bd(fR, this.u0076ar.View, this.input);} });
let bk=fH((fO) => class fP extends u0034 { static { bk=fO(this);} p;adder;arr;u0076ar;changesView;out;Render(fQ){ return u0037.ConvertBy((fR) => fR[2], (fR) => fR[0].render(fQ(fR[1])), this.changesView);} add(fQ){ this.arr.push(this.mk(fQ));bG.Update(this.u0076ar, (fR) => fR);} mk(fQ){ const fR=(ex())();const fS=(fZ) => B((f0) => fR===f0[2], fZ);const fT=u0038(fS, this.u0076ar.View);const fU=new bj(u0038((fZ) => fZ===0?bF(bH.Empty):bE(true), fT), bN(this.arr)===0?bF(bH.Empty):bE(false));const fV=u0038((fZ) => { if(fZ.$==0)if(fZ.$0){ const f0=fS(this.arr);ey(this.arr, f0, f0-1);bG.Update(this.u0076ar, (f1) => f1);} }, fU.view);const fW=new bj(u0038((fZ) => fZ===bN(this.arr)-1?bF(bH.Empty):bE(true), fT), bF(bH.Empty));const fX=u0038((fZ) => { if(fZ.$==0)if(fZ.$0){ const f0=fS(this.arr);ey(this.arr, f0, f0+1);bG.Update(this.u0076ar, (f1) => f1);} }, fW.view);const fY=this.p(fQ);return[u0036(fY.id, bb((fZ) => fZ, fY.view, bb(() => null, fV, fX)), fY.render), new bm(() => { let fZ=fS(this.arr);this.arr.splice(fZ, 1);bG.Update(this.u0076ar, (f0) => f0);}, fU, fW), fR];} fst3(fQ, fR, fS){ return fQ;} constructor(fQ, fR, fS){ super();this.p=fQ;this.adder=fS;this.arr=fJ([]);this.u0076ar=bG.Create_1(this.arr);const fT=this.arr;const fU=(fV) => { fT.push(fV);};A((fV) => fU(this.mk(fV)), fR);this.changesView=bc((fV) => dD((fW) => u0038(() =>[fW], this.fst3(fW[0], fW[1], fW[2]).view), u0039([]), (fW, fX) => bb(y, fW, fX), fV.slice()), this.u0076ar.View);this.out=bc((fV) => dD((fW) => { const fX=(fY) =>[fY];return u0038((fY) => bI(fX, fY), fW[0].view);}, u0039(bE([])), (fW, fX) => bb((fY, fZ) => bL(y, fY, fZ), fW, fX), fV.slice()), this.u0076ar.View);} });
function bl(fO, fP, fQ){ return u0037.Element("button", y([cL(fQ)], fP), [u0037.TextNode(fO)]);}
let bm=fH((fO) => class fP extends u0034 { static { bm=fO(this);} u0064elete;moveUp;moveDown;constructor(fQ, fR, fS){ super();this.u0064elete=fQ;this.moveUp=fR;this.moveDown=fS;} });
let bn=fH((fO) => { fK(bk);return class fP extends bk { static { bn=fO(this);} u0064efault;AddOne(){ this.add(this.u0064efault);} constructor(fQ, fR, fS, fT){ super(fQ, fR, fS);this.u0064efault=fT;} };});
function bo(fO){!bp()?(bq(true),br(globalThis.document.body, "")):void 0;bs().set_Item(fO, bt(""));}
function bp(){ return dF.LocalTemplatesLoaded;}
function bq(fO){ dF.LocalTemplatesLoaded=fO;}
function br(fO, fP){ const fQ=bt(fP);const fR=new cM("New_5");const fS=fO.querySelectorAll("[ws-template]");for(let f4=0, f5=fS.length-1;f4<=f5;f4++){ const fT=fS[f4];const fU=fT.getAttribute("ws-template").toLowerCase();fT.removeAttribute("ws-template");fR.set_Item(fU, bu(fT));} const fV=fO.querySelectorAll("[ws-children-template]");for(let f6=0, f7=fV.length-1;f6<=f7;f6++){ const fW=fV[f6];const fX=fW.getAttribute("ws-children-template").toLowerCase();fW.removeAttribute("ws-children-template");fR.set_Item(fX, bv(fW));} const fY=fO.querySelectorAll("template[id]");for(let f8=0, f9=fY.length-1;f8<=f9;f8++){ const fZ=fY[f8];fR.set_Item(fZ.getAttribute("id").toLowerCase(), bw(fZ));} const f0=fO.querySelectorAll("template[name]");for(let f_=0, f$=f0.length-1;f_<=f$;f_++){ const f1=f0[f_];fR.set_Item(f1.getAttribute("name").toLowerCase(), bw(f1));} const f2=new dG("New_3");function f3(ga){ if(!fQ.ContainsKey(ga)){ let gb;const gc=(gb=null,[fR.TryGetValue(ga, {get:() => gb, set:(gd) => { gb=gd;}}), gb]);if(gc[0]){ f2.SAdd(ga);fR.RemoveKey(ga);bx(fP, dH(ga), gc[1], dH(f3));} else console.warn(f2.Contains(ga)?"Encountered loop when instantiating "+ga:"Local template does not exist: "+ga);} } while(fR.count>0)f3(z(fR.Keys));}
function bs(){ return dF.LoadedTemplates;}
function bt(fO){ let fP;const fQ=(fP=null,[bs().TryGetValue(fO, {get:() => fP, set:(fS) => { fP=fS;}}), fP]);if(fQ[0])return fQ[1];else { const fR=new cM("New_5");bs().set_Item(fO, fR);return fR;} }
function bu(fO){ fO.removeAttribute("ws-template");const fP=fO.getAttribute("ws-replace");if(fP==null){ } else { fO.removeAttribute("ws-replace");const fQ=fO.parentNode;if(bQ(fQ, null)){ } else { const fR=globalThis.document.createElement(fO.tagName);fR.setAttribute("ws-replace", fP);fQ.replaceChild(fR, fO);} } const fS=globalThis.document.createElement("div");fS.appendChild(fO);return fS;}
function bv(fO){ const fP=globalThis.document.createElement("div");while(fO.hasChildNodes())fP.appendChild(fO.firstChild);return fP;}
function bw(fO){ const fP=globalThis.document.createElement("div");const fQ=fO.content;for(let fR=0, fS=fQ.childNodes.length-1;fR<=fS;fR++)fP.appendChild(fQ.childNodes[fR].cloneNode(true));return fP;}
function bx(fO, fP, fQ, fR){ const fS=new dG("New_3");function fT(f0, f1){ while(true)switch(f0){ case 0:if(f1!==null){ const f2=f1.nextSibling;if(bQ(f1.nodeType, Node.TEXT_NODE))eb(f1);else if(bQ(f1.nodeType, Node.ELEMENT_NODE))fV(f1);f1=f2;} else return null;break;case 1:const f3=ej(f1.nodeName, dH(3), null).toLowerCase();const f4=f3.indexOf(".");const f5=f4===-1?[fO, f3]:[ej(f3, null, dH(f4-1)), ej(f3, dH(f4+1), null)];const f6=f5[1];const f7=f5[0];if(f7!=""&&!bs().ContainsKey(f7))return ec(f6);else { if(f7==""&&fR!=null)fR.$0(f6);const f8=bs().Item(f7);if(!f8.ContainsKey(f6))return ec(f6);else { const f9=f8.Item(f6);const f_=f9.cloneNode(true);const f$=new dG("New_3");const ga=new cM("New_5");const gb=f1.attributes;for(let gl=0, gm=gb.length-1;gl<=gm;gl++){ const gc=gb.item(gl).name.toLowerCase();const gd=gb.item(gl).nodeValue;let ge=gd==""?gc:gd.toLowerCase();ga.set_Item(gc, ge);if(!f$.SAdd(gc))console.warn("Hole mapped twice", gc);} for(let gn=0, go=f1.childNodes.length-1;gn<=go;gn++){ const gf=f1.childNodes[gn];if(bQ(gf.nodeType, Node.ELEMENT_NODE))if(!f$.SAdd(gf.nodeName.toLowerCase()))console.warn("Hole filled twice", f6);} const gg=f1.childNodes.length===1&&bQ(f1.firstChild.nodeType, Node.TEXT_NODE);if(gg){ const gh=ed(f_, f1.firstChild.textContent, f6);const gi=((gp) =>(gq) => gp.SAdd(gq))(f$);let gj=((gp) =>(gq) => { if(gq!=null)gp(gq.$0);})((gp) => { gi(gp);});gj(gh);} ee(f_, f$);if(!gg){ for(let gp=0, gq=f1.childNodes.length-1;gp<=gq;gp++){ const gk=f1.childNodes[gp];if(bQ(gk.nodeType, Node.ELEMENT_NODE))if(gk.hasAttributes())ef(f_, gk);else fU(f_, gk);} } eg(f_, ga);eh(f_, f1.parentNode, f1);f1.parentNode.removeChild(f1);return;} } break;} } function fU(f0, f1){ const f2=f1.nodeName.toLowerCase();const f3=(f7, f8) => { if(f2=="title"&&f1.hasChildNodes()){ const f9=dm(f1.textContent);f1.removeChild(f1.firstChild);while(f9.hasChildNodes())f1.appendChild(f9.firstChild);} fV(f1);return eh(f1, f7, f8);};by(f0, "[ws-attr-holes]", (f7) => { const f8=P(f7.getAttribute("ws-attr-holes"), [" "], 1);for(let ga=0, gb=f8.length-1;ga<=gb;ga++){ const f9=bM(f8, ga);let f_=new RegExp("\\${"+f2+"}", "ig");let f$=f7.getAttribute(f9).replace(f_, f1.textContent);f7.setAttribute(f9, f$);} });const f4=f0.querySelector("[ws-hole="+f2+"]");if(bQ(f4, null)){ const f5=f0.querySelector("[ws-replace="+f2+"]");if(bQ(f5, null)){ const f6=f0.querySelector("slot[name="+f2+"]");return f0.tagName.toLowerCase()=="template"?(f3(f6.parentNode, f6),void f6.parentNode.removeChild(f6)):null;} else { f3(f5.parentNode, f5);f5.parentNode.removeChild(f5);return;} } else { while(f4.hasChildNodes())f4.removeChild(f4.lastChild);f4.removeAttribute("ws-hole");return f3(f4, null);} } function fV(f0){ if(!f0.hasAttribute("ws-preserve"))if(Q(f0.nodeName.toLowerCase(), "ws-"))fX(f0);else { ei(f0);fW(f0.firstChild);} } function fW(f0){ return fT(0, f0);} function fX(f0){ return fT(1, f0);} function fY(f0){ while(true){ const f1=f0.querySelector("[ws-template]");if(bQ(f1, null)){ const f2=f0.querySelector("[ws-children-template]");if(bQ(f2, null)){ const f3=f0.querySelectorAll("template[id]");for(let f9=1, f_=f3.length-1;f9<=f_;f9++){ const f4=f3[f9];if(fS.Contains(f4)){ } else { bx(fO, dH(f4.getAttribute("id")), f4, null);fS.SAdd(f4);} } const f5=f0.querySelectorAll("template[name]");for(let f$=1, ga=f5.length-1;f$<=ga;f$++){ const f6=f5[f$];if(fS.Contains(f6)){ } else { bx(fO, dH(f6.getAttribute("name")), f6, null);fS.SAdd(f6);} } return null;} else { const f7=f2.getAttribute("ws-children-template");f2.removeAttribute("ws-children-template");bx(fO, dH(f7), f2, null);f0=f0;} } else { const f8=f1.getAttribute("ws-template");(bz(fO, dH(f8), f1))(null);f0=f0;} } } const fZ=(fP==null?"":fP.$0).toLowerCase();bt(fO).set_Item(fZ, fQ);if(fQ.hasChildNodes()){ fY(fQ);fW(fQ.firstChild);} }
function by(fO, fP, fQ){ ds(fO, fP, (fR) => { if(fR.closest("[ws-preserve]")==null)fQ(fR);});}
function bz(fO, fP, fQ){ const fR=bu(fQ);return(fS) => { bx(fO, fP, fR, fS);};}
function bA(){ return dF.TextHoleRE;}
function bB(fO){ const fP={};const fQ=u0030(fO);try { while(fQ.MoveNext()){ const fR=fQ.Current;fP[fR[0]]=fR[1];} } finally { if(typeof fQ=="object"&&a(fQ))fQ.Dispose();} return fP;}
function bC(){(bD())[0]++;return"Form"+String((bD())[0]);}
function bD(){ return dJ.lastId;}
function bE(fO){ return{$:0, $0:fO};}
function bF(fO){ return{$:1, $0:fO};}
let bG=fH((fO) => class fP extends u0034 { static { bG=fO(this);} static Create_1(fQ){ return new cN(false, {s:dL(fQ, [])}, fQ);} static Create(){ return new cN(false, {s:dL(null, [])}, null);} static Update(fQ, fR){ bG.Set(fQ, fR(fQ.Get()));} static Set(fQ, fR){ fQ.Set(fR);} static { } });
let bH=fH((fO) => class fP { static { bH=fO(this);} static Empty=fI(bH, {$:0});static Cons(fQ, fR){ return fI(fP, {$:1, $0:fQ, $1:fR});} GetEnumerator(){ return new u0035(this, null, (fQ) => { const fR=fQ.s;return fR.$==0?false:(fQ.c=fR.$0,fQ.s=fR.$1,true);}, void 0);} });
function bI(fO, fP){ return fP.$==1?bF(fP.$0):bE(fO(fP.$0));}
function bJ(fO, fP){ return fO.$==0?fP.$==0?bE(fO.$0(fP.$0)):bF(fP.$0):fP.$==0?bF(fO.$0):bF(cG(fO.$0, fP.$0));}
function bK(fO){ return fO.$==1;}
function bL(fO, fP, fQ){ return fP.$==0?fQ.$==0?bE(fO(fP.$0, fQ.$0)):fQ:fQ.$==0?fP:bF(cG(fP.$0, fQ.$0));}
function bM(fO, fP){ bO(fO, fP);return fO[fP];}
function bN(fO){ return fO.dims===2?fO.length*fO.length:fO.length;}
function bO(fO, fP){ if(fP<0||fP>=fO.length)h("Index was outside the bounds of the array.");}
function bP(fO, fP, fQ){ bO(fO, fP);fO[fP]=fQ;}
function bQ(fO, fP){ if(fO===fP)return true;else { const fQ=typeof fO;if(fQ=="object"){ if(fO===null||fO===void 0||fP===null||fP===void 0||!bQ(typeof fP, "object"))return false;else if("Equals"in fO)return fO.Equals(fP);else if("Equals"in fP)return false;else if(fO instanceof Array&&fP instanceof Array)return bR(fO, fP);else if(fO instanceof Date&&fP instanceof Date)return bS(fO, fP);else { const fR=[true];let fS;for(var fU in fO)if(((fV) => { fR[0]=!fO.hasOwnProperty(fV)||fP.hasOwnProperty(fV)&&bQ(fO[fV], fP[fV]);return!fR[0];})(fU))break;if(fR[0]){ let fT;for(var fV in fP)if(((fW) => { fR[0]=!fP.hasOwnProperty(fW)||fO.hasOwnProperty(fW);return!fR[0];})(fV))break;} return fR[0];} } else return fQ=="function"&&("$Func"in fO?fO.$Func===fP.$Func&&fO.$Target===fP.$Target:"$Invokes"in fO&&"$Invokes"in fP&&bR(fO.$Invokes, fP.$Invokes));} }
function bR(fO, fP){ let fQ;let fR;if(bN(fO)===bN(fP)){ fQ=true;fR=0;while(fQ&&fR<bN(fO)){!bQ(bM(fO, fR), bM(fP, fR))?fQ=false:void 0;fR=fR+1;} return fQ;} else return false;}
function bS(fO, fP){ return fO.getTime()===fP.getTime();}
function bT(fO){ const fP=typeof fO;return fP=="function"?0:fP=="boolean"?fO?1:0:fP=="number"?fO:fP=="string"?bU(fO):fP=="object"?fO==null?0:fO instanceof Array?bV(fO):bW(fO):0;}
function bU(fO){ let fP;if(fO===null)return 0;else { fP=5381;for(let fQ=0, fR=fO.length-1;fQ<=fR;fQ++)fP=bX(fP, fO[fQ].charCodeAt());return fP;} }
function bV(fO){ let fP=-34948909;for(let fQ=0, fR=bN(fO)-1;fQ<=fR;fQ++)fP=bX(fP, bT(bM(fO, fQ)));return fP;}
function bW(fO){ if("GetHashCode"in fO)return fO.GetHashCode();else { const fP=[0];let fQ;for(var fR in fO)if(((fS) => { fP[0]=bX(bX(fP[0], bU(fS)), bT(fO[fS]));return false;})(fR))break;return fP[0];} }
function bX(fO, fP){ return(fO<<5)+fO+fP;}
function bY(fO, fP){ if(fO===fP)return 0;else { const fQ=typeof fO;switch(fQ=="function"?1:fQ=="boolean"?2:fQ=="number"?2:fQ=="string"?2:fQ=="object"?3:0){ case 0:return typeof fP=="undefined"?0:-1;case 1:return h("Cannot compare function values.");case 2:return fO<fP?-1:1;case 3:if(fO===null)return -1;else if(fP===null)return 1;else if("CompareTo"in fO)return fO.CompareTo(fP);else if("CompareTo0"in fO)return fO.CompareTo0(fP);else if(fO instanceof Array&&fP instanceof Array)return bZ(fO, fP);else if(fO instanceof Date&&fP instanceof Date)return b0(fO, fP);else { const fR=[0];let fS;for(var fU in fO)if(((fV) =>!fO.hasOwnProperty(fV)?false:!fP.hasOwnProperty(fV)?(fR[0]=1,true):(fR[0]=bY(fO[fV], fP[fV]),fR[0]!==0))(fU))break;if(fR[0]===0){ let fT;for(var fV in fP)if(((fW) =>!fP.hasOwnProperty(fW)?false:!fO.hasOwnProperty(fW)&&(fR[0]=-1,true))(fV))break;} return fR[0];} break;} } }
function bZ(fO, fP){ let fQ;let fR;if(bN(fO)<bN(fP))return -1;else if(bN(fO)>bN(fP))return 1;else { fQ=0;fR=0;while(fQ===0&&fR<bN(fO)){ fQ=bY(bM(fO, fR), bM(fP, fR));fR=fR+1;} return fQ;} }
function b0(fO, fP){ return bY(fO.getTime(), fP.getTime());}
function b1(fO){ if(fO instanceof Array)return fO.slice();else if(fO instanceof bH)return b2(fO);else { const fP=[];const fQ=u0030(fO);try { while(fQ.MoveNext())fP.push(fQ.Current);return fP;} finally { if(typeof fQ=="object"&&a(fQ))fQ.Dispose();} } }
function b2(fO){ const fP=[];let fQ=fO;while(!(fQ.$==0)){ fP.push(cH(fQ));fQ=cI(fQ);} return fP;}
function b3(fO, fP){ let fQ=false;let fR=0;while(!fQ&&fR<bN(fP))if(fO(fP[fR]))fQ=true;else fR=fR+1;return fQ;}
function b4(fO, fP){ let fQ=null;let fR=0;while(fR<fP.length&&fQ==null){ const fS=fO(fP[fR]);if(fS!=null&&fS.$==1)fQ=fS;fR=fR+1;} return fQ;}
function b5(fO, fP){ let fQ=null;let fR=0;while(fR<fP.length&&fQ==null){ fO(fP[fR])?fQ=dH(fR):void 0;fR=fR+1;} return fQ;}
function b6(fO, fP){ const fQ=[];for(let fR=0, fS=fP.length-1;fR<=fS;fR++)if(fO(fP[fR]))fQ.push(fP[fR]);return fQ;}
function b7(fO, fP){ const fQ=new Array(fP.length);for(let fR=0, fS=fP.length-1;fR<=fS;fR++)fQ[fR]=fO(fP[fR]);return fQ;}
function b8(fO, fP){ for(let fQ=0, fR=fP.length-1;fQ<=fR;fQ++)fO(fP[fQ]);}
function b9(fO, fP, fQ){ let fR=fQ;const fS=fP.length;for(let fT=1, fU=fS;fT<=fU;fT++)fR=fO(fP[fS-fT], fR);return fR;}
function b_(fO){ return Array.prototype.concat.apply([], b1(fO));}
function b$(fO, fP){ const fQ=b4(fO, fP);return fQ==null?h("KeyNotFoundException"):fQ.$0;}
function ca(fO, fP){ const fQ=[];for(let fS=0, fT=fP.length-1;fS<=fT;fS++){ const fR=fO(fP[fS]);if(fR==null){ } else fQ.push(fR.$0);} return fQ;}
function cb(fO, fP){ const fQ=new Array(fO);for(let fR=0, fS=fO-1;fR<=fS;fR++)fQ[fR]=fP;return fQ;}
function cc(fO, fP){ if(fO<0)h("Negative size given.");else null;const fQ=new Array(fO);for(let fR=0, fS=fO-1;fR<=fS;fR++)fQ[fR]=fP(fR);return fQ;}
function cd(fO, fP){ let fQ=true;let fR=0;while(fQ&&fR<bN(fP))if(fO(fP[fR]))fR=fR+1;else fQ=false;return fQ;}
let ce=fH((fO) => class fP { static { ce=fO(this);} });
function cf(fO, fP){ return{$:0, $0:fO, $1:fP};}
function cg(fO){ return{$:2, $0:fO};}
function ch(fO){ return{$:5, $0:fO};}
function ci(fO){ return{$:1, $0:fO};}
function cj(fO, fP){ const fQ=fP.s;if(fQ!=null&&fQ.$==0)return{s:dK(fO(fQ.$0))};else { const fR={s:dM([], [])};cm(fP, (fS) => { cn(fR, fP, fO(fS));}, fR);return fR;} }
function ck(fO, fP){ const fQ=fO.s;const fR=fP.s;if(fQ!=null&&fQ.$==0)return fR!=null&&fR.$==0?{s:dK(null)}:fP;else if(fR!=null&&fR.$==0)return fO;else { const fS={s:dM([], [])};const fT=() => { const fU=fS.s;if(!(fU!=null&&fU.$==0||fU!=null&&fU.$==2)){ const fV=cp(fO);const fW=cp(fP);if(fV!=null&&fV.$==1)if(fW!=null&&fW.$==1)if(fV.$0[1]&&fW.$0[1])cq(fS, null);else cr(fS, null);} };cm(fO, fT, fS);cm(fP, fT, fS);return fS;} }
function cl(fO, fP){ const fQ=fO.s;if(fQ==null)fP();else fQ!=null&&fQ.$==2?fQ.$1.push(fP):fQ!=null&&fQ.$==3?fQ.$1.push(fP):void 0;}
function cm(fO, fP, fQ){ const fR=fO.s;if(fR==null)cP(fQ);else fR!=null&&fR.$==2?(cs(fR.$1, fQ),fP(fR.$0)):fR!=null&&fR.$==3?(fR.$0.push(fP),cs(fR.$1, fQ)):fP(fR.$0);}
function cn(fO, fP, fQ){ const fR=fP.s;if(fR!=null&&fR.$==0)cq(fO, fQ);else cr(fO, fQ);}
function co(fO, fP, fQ){ const fR=fP.s;const fS=fQ.s;if(fR!=null&&fR.$==0)return fS!=null&&fS.$==0?{s:dK(fO(fR.$0, fS.$0))}:ct(fO, fR.$0, fQ);else if(fS!=null&&fS.$==0)return cu(fO, fS.$0, fP);else { const fT={s:dM([], [])};const fU=() => { const fV=fT.s;if(!(fV!=null&&fV.$==0||fV!=null&&fV.$==2)){ const fW=cp(fP);const fX=cp(fQ);if(fW!=null&&fW.$==1)if(fX!=null&&fX.$==1)if(fW.$0[1]&&fX.$0[1])cq(fT, fO(fW.$0[0], fX.$0[0]));else cr(fT, fO(fW.$0[0], fX.$0[0]));} };cm(fP, fU, fT);cm(fQ, fU, fT);return fT;} }
function cp(fO){ const fP=fO.s;return fP!=null&&fP.$==0?dH([fP.$0, true]):fP!=null&&fP.$==2?dH([fP.$0, false]):null;}
function cq(fO, fP){ const fQ=fO.s;if(fQ!=null&&fQ.$==3){ fO.s=dK(fP);const fR=fQ.$0;for(let fS=0, fT=bN(fR)-1;fS<=fT;fS++)(bM(fR, fS))(fP);} else void 0;}
function cr(fO, fP){ const fQ=fO.s;if(fQ!=null&&fQ.$==3){ fO.s=dL(fP, fQ.$1);const fR=fQ.$0;for(let fS=0, fT=bN(fR)-1;fS<=fT;fS++)(bM(fR, fS))(fP);} else void 0;}
function cs(fO, fP){ fO.push(fP);if(fO.length%20===0){ const fQ=fO.slice(0);e5(fO);for(let fS=0, fT=bN(fQ)-1;fS<=fT;fS++){ const fR=bM(fQ, fS);if(typeof fR=="object")(((fU) => { if(fU.s)fO.push(fU);})(fR));else(((fU) => { fO.push(fU);})(fR));} } else void 0;}
function ct(fO, fP, fQ){ return cj((fR) => fO(fP, fR), fQ);}
function cu(fO, fP, fQ){ return cj((fR) => fO(fR, fP), fQ);}
function cv(fO, fP){ const fQ={s:dM([], [])};const fR=() => { const fS=fQ.s;if(!(fS!=null&&fS.$==0||fS!=null&&fS.$==2)){ const fT=cp(fO);const fU=cp(fP);if(fT!=null&&fT.$==1)fU!=null&&fU.$==1?fT.$0[1]||fU.$0[1]?cq(fQ, fU.$0[0]):cr(fQ, fU.$0[0]):void 0;} };cm(fO, fR, fQ);cz(fP, fR);return fQ;}
function cw(fO, fP){ const fQ=fO.s;if(fQ==null)cP(fP);else fQ!=null&&fQ.$==2?cs(fQ.$1, fP):fQ!=null&&fQ.$==3?cs(fQ.$1, fP):void 0;}
function cx(fO){ const fP={s:dM([], [])};cm(fO, (fQ) => { const fR=fQ();cm(fR, (fS) => { let fT;const fU=fR.s;if(fU!=null&&fU.$==0){ const fV=fO.s;fT=fV!=null&&fV.$==0;} else fT=false;if(fT)cq(fP, fS);else cr(fP, fS);}, fP);}, fP);return fP;}
function cy(fO, fP, fQ){ const fR=fO.s;if(fR==null)fQ();else fR!=null&&fR.$==2?(fR.$1.push(fQ),fP(fR.$0)):fR!=null&&fR.$==3?(fR.$0.push(fP),fR.$1.push(fQ)):fP(fR.$0);}
function cz(fO, fP){ let fQ;const fR=fO.s;switch(fR!=null&&fR.$==2?(fQ=fR.$0,0):fR==null?1:fR!=null&&fR.$==3?2:(fQ=fR.$0,0)){ case 0:fP(fQ);break;case 1:null;break;case 2:fR.$0.push(fP);break;} }
function cA(fO){ const fP=fO.s;if(fP==null)return fO;else if(fP!=null&&fP.$==2){ const fQ={s:dL(fP.$0, [])};cw(fO, fQ);return fQ;} else if(fP!=null&&fP.$==3){ const fR={s:dM([], [])};cm(fO, (fS) => { cn(fR, fO, fS);}, fR);return fR;} else return fO;}
let cB=fH((fO) => class fP { static { cB=fO(this);} static Create(fQ, fR){ return c8((fS) => { fS.setAttribute(fQ, fR);});} static Append(fQ, fR){ return c9(fQ, fR);} static Concat(fQ){ const fR=dB(fQ);return dC(dc(), cB.Append, fR);} static A3(fQ){ return fI(fP, {$:3, $0:fQ});} static A2(fQ, fR){ return fI(fP, {$:2, $0:fQ, $1:fR});} static A1(fQ){ return fI(fP, {$:1, $0:fQ});} });
let cC=fH((fO) => class fP extends u0034 { static { cC=fO(this);} id;message;constructor(fQ, fR){ super();this.id=fQ;this.message=fR;} });
function cD(fO, fP){ let fQ;let fR;let fS;let fT;if(fP.$==0)return fP;else { fQ=bH.Empty;fR=fQ;fS=fP;fT=true;while(fT){ if(fO(fS.$0)){ if(fQ.$==0){ fQ=fI(bH, {$:1});fR=fQ;} else { const fU=fI(bH, {$:1});fR=(fR.$1=fU,fU);} const fV=fS.$0;fR.$=1;fR.$0=fV;} fS=fS.$1;if(fS.$==0)fT=false;} if(!(fQ.$==0))fR.$1=bH.Empty;return fQ;} }
function cE(fO){ let fP=bH.Empty;for(let fQ=bN(fO)-1, fR=0;fQ>=fR;fQ--)fP=bH.Cons(bM(fO, fQ), fP);return fP;}
function cF(fO){ if(fO instanceof bH)return fO;else if(fO instanceof Array)return cE(fO);else { const fP=u0030(fO);try { let fQ;let fR=fP.MoveNext();if(!fR)return bH.Empty;else { const fS=fI(bH, {$:1});fQ=fS;while(fR){ fQ.$0=fP.Current;if(fP.MoveNext()){ const fT=fI(bH, {$:1});fQ=(fQ.$1=fT,fT);} else fR=false;} fQ.$1=bH.Empty;return fS;} } finally { if(typeof fP=="object"&&a(fP))fP.Dispose();} } }
function cG(fO, fP){ let fQ;let fR;let fS;if(fO.$==0)return fP;else if(fP.$==0)return fO;else { const fT=fI(bH, {$:1});fQ=fT;fR=fO;fS=true;while(fS){ fQ.$0=fR.$0;fR=fR.$1;if(fR.$==0)fS=false;else { const fU=fI(bH, {$:1});fQ=(fQ.$1=fU,fU);} } fQ.$1=fP;return fT;} }
function cH(fO){ return fO.$==1?fO.$0:cJ();}
function cI(fO){ return fO.$==1?fO.$1:cJ();}
function cJ(){ return h("The input list was empty.");}
let cK=fH((fO) => class fP extends u0034 { static { cK=fO(this);} });
function cL(fO){ let fP=dz("click", () =>() => fO.Trigger());const fQ=u0039("disabled");let fR=dy("disabled", u0038(bK, fO.input), fQ);return cB.Append(fP, fR);}
let cM=fH((fO) => class fP extends u0034 { static { cM=fO(this);} equals;hash;count;data;set_Item(fQ, fR){ this.set(fQ, fR);} ContainsKey(fQ){ const fR=this.data[this.hash(fQ)];return fR==null?false:b3((fS) => this.equals.apply(null, [(i(fS))[0], fQ]), fR);} TryGetValue(fQ, fR){ const fS=this.data[this.hash(fQ)];if(fS==null)return false;else { const fT=b4((fU) => { const fV=i(fU);return this.equals.apply(null, [fV[0], fQ])?dH(fV[1]):null;}, fS);return fT!=null&&fT.$==1&&(fR.set(fT.$0),true);} } RemoveKey(fQ){ return this.remove(fQ);} get Keys(){ return new en(this);} set(fQ, fR){ const fS=this.hash(fQ);const fT=this.data[fS];if(fT==null){ this.count=this.count+1;this.data[fS]=new Array({K:fQ, V:fR});} else { const fU=b5((fV) => this.equals.apply(null, [(i(fV))[0], fQ]), fT);if(fU==null){ this.count=this.count+1;fT.push({K:fQ, V:fR});} else fT[fU.$0]={K:fQ, V:fR};} } remove(fQ){ const fR=this.hash(fQ);const fS=this.data[fR];if(fS==null)return false;else { const fT=b6((fU) =>!this.equals.apply(null, [(i(fU))[0], fQ]), fS);return bN(fT)<fS.length&&(this.count=this.count-1,this.data[fR]=fT,true);} } Item(fQ){ return this.get(fQ);} GetEnumerator(){ return u0033(b_(v(this.data)));} get(fQ){ const fR=this.data[this.hash(fQ)];return fR==null?ea():b$((fS) => { const fT=i(fS);return this.equals.apply(null, [fT[0], fQ])?dH(fT[1]):null;}, fR);} static New_5(){ return new this("New_5");} static New_6(fQ, fR, fS){ return new this("New_6", fQ, fR, fS);} constructor(fQ, fR, fS, fT){ if(fQ=="New_5"){ fQ="New_6";fR=[];fS=bQ;fT=bT;} if(fQ=="New_6"){ const fU=fR;const fV=fS;const fW=fT;super();this.equals=fV;this.hash=fW;this.count=0;this.data=[];const fX=u0030(fU);try { while(fX.MoveNext()){ const fY=fX.Current;this.set(fY.K, fY.V);} } finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} } } });
let cN=fH((fO) => { fK(cK);return class fP extends cK { static { cN=fO(this);} isConst;current;snap;view;id;get Id(){ return"uinref"+String(this.id);} get View(){ return this.view;} Set(fQ){ if(this.isConst)(((fR) => fR("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fR) => { console.log(fR);}));else { cP(this.snap);this.current=fQ;this.snap={s:dL(fQ, [])};} } Get(){ return this.current;} UpdateMaybe(fQ){ const fR=fQ(this.Get());if(fR!=null&&fR.$==1)this.Set(fR.$0);} constructor(fQ, fR, fS){ super();this.isConst=fQ;this.current=fS;this.snap=fR;this.view=() => this.snap;this.id=dN();} };});
function cO(fO, fP){ return fg(fO, -2147483648, 2147483647, fP);}
function cP(fO){ let fP;const fQ=fO.s;if(fQ==null||(fQ!=null&&fQ.$==2?(fP=fQ.$1,false):fQ!=null&&fQ.$==3?(fP=fQ.$1,false):true))void 0;else { fO.s=null;for(let fS=0, fT=bN(fP)-1;fS<=fT;fS++){ const fR=bM(fP, fS);if(typeof fR=="object")(((fU) => { cP(fU);})(fR));else fR();} } }
function cQ(){ return{Current:null, Dirty:false};}
function cR(fO, fP){ fO.Current=fP;fO.Dirty=true;}
function cS(fO, fP){ cT(fO, fP, null);}
function cT(fO, fP, fQ){ while(true){ if(fP!=null&&fP.$==1)return cY(fO, fP.$0.El, fQ);else if(fP!=null&&fP.$==2){ const fR=fP.$0;fR.Dirty=false;fP=fR.Current;} else if(fP==null)return fQ;else if(fP!=null&&fP.$==4)return cY(fO, fP.$0.Text, fQ);else if(fP!=null&&fP.$==5)return cY(fO, fP.$0, fQ);else if(fP!=null&&fP.$==6)return b9((fU, fV) =>((((fW) =>(fX) =>(fY) => fX==null||fX.constructor===Object?cT(fW, fX, fY):cY(fW, fX, fY))(fO))(fU))(fV), fP.$0.Els, fQ);else { const fS=fP.$1;const fT=fP.$0;fP=fT;fQ=cT(fO, fS, fQ);} } }
function cU(fO, fP){ return eC(eD(), cX(fO, dc(), fP));}
function cV(fO, fP, fQ){ if(eo()){ const fR=null;return eK(() => { const fS=eE(fQ);const fT=c2(fP, fS);const fU=c1(fP, fS);return eL(ep(eq(fT, c0(fP, fS))), () => eL(cZ(fO, fP), () => eL(ep(fU), () => { fP.PreviousNodes=fS;return eO(null);})));});} else return cZ(fO, fP);}
function cW(fO, fP, fQ){ const fR=eE(fQ);c3(fO, fP.Top);fP.PreviousNodes=fR;}
function cX(fO, fP, fQ){ cS(fO, fQ);const fR=dd(fO, fP);return dQ.New(fR, fQ, null, fO, dN(), fL(fR.OnAfterRender));}
function cY(fO, fP, fQ){ dt(fO, fQ, fP);return fP;}
function cZ(fO, fP){ if(ev()){ const fQ=(fR) => { requestAnimationFrame(() => { c3(fO, fP.Top);fR();});};return eT((fR, fS, fT) => fQ.apply(null, [fR, fS, fT]));} else { c3(fO, fP.Top);return eO(null);} }
function c0(fO, fP){ return et(b7((fQ) => df(fQ.Attr), eI(eH(fP, eG((fQ) => de(fQ.Attr), fO.PreviousNodes)))));}
function c1(fO, fP){ return et(b7((fQ) => dh(fQ.Attr), eI(eH(fO.PreviousNodes, eG((fQ) => dg(fQ.Attr), fP)))));}
function c2(fO, fP){ const fQ=(fS) => di(fS.Attr);const fR=(fS) => eG(fQ, fS);return et(b7((fS) => dj(fS.Attr), eI(eJ(fR(fO.PreviousNodes), fR(fP)))));}
function c3(fO, fP){!fO?c4(fP):void 0;c5(fP.Children);c6(fP);}
function c4(fO){ function fP(fQ){ function fR(fS){ while(true){ if(fS!=null&&fS.$==0){ const fT=fS.$1;const fU=fS.$0;if(fR(fU))return true;else fS=fT;} else if(fS!=null&&fS.$==2){ const fV=fS.$0;if(fV.Dirty)return true;else fS=fV.Current;} else if(fS!=null&&fS.$==6){ const fW=fS.$0;return fW.Dirty||b3(fP, fW.Holes);} else return false;} } return fR(fQ.Children);} dl(fO.El, fO.Attr);if(fP(fO))c7(fO);}
function c5(fO){ while(true){ if(fO!=null&&fO.$==1)return c3(false, fO.$0);else if(fO!=null&&fO.$==2){ const fP=fO.$0;fO=fP.Current;} else if(fO==null)return null;else if(fO!=null&&fO.$==5)return null;else if(fO!=null&&fO.$==4){ const fQ=fO.$0;return fQ.Dirty?(fQ.Text.nodeValue=fQ.Value,fQ.Dirty=false):null;} else if(fO!=null&&fO.$==6){ const fR=fO.$0;b8((fU) => { c3(false, fU);}, fR.Holes);b8((fU) => { dl(fU[0], fU[1]);}, fR.Attrs);return c6(fR);} else { const fS=fO.$1;const fT=fO.$0;c5(fT);fO=fS;} } }
function c6(fO){ const fP=fL(fO.Render);if(fP!=null&&fP.$==1){ fP.$0(fO.El);fM(fO, "Render", null);} }
function c7(fO){ const fP=fO.El;function fQ(fU, fV){ while(true){ if(fU!=null&&fU.$==1)return fU.$0.El;else if(fU!=null&&fU.$==2){ const fW=fU.$0;if(fW.Dirty){ fW.Dirty=false;return cT(fP, fW.Current, fV);} else fU=fW.Current;} else if(fU==null)return fV;else if(fU!=null&&fU.$==4)return fU.$0.Text;else if(fU!=null&&fU.$==5)return fU.$0;else if(fU!=null&&fU.$==6){ const fX=fU.$0;if(fX.Dirty)fX.Dirty=false;return b9((f0, f1) => f0==null||f0.constructor===Object?fQ(f0, f1):f0, fX.Els, fV);} else { const fY=fU.$1;const fZ=fU.$0;fU=fZ;fV=fQ(fY, fV);} } } const fR=fO.El;fx((fU) => { du(fR, fU);}, fw(fy(fO), fv(fO.El, fL(fO.Delimiters))));let fS=fO.Children;const fT=fL(fO.Delimiters);fQ(fS, fT!=null&&fT.$==1?fT.$0[1]:null);}
function c8(fO){ return cB.A3(fO);}
function c9(fO, fP){ if(fO===null)return fP;else if(fP===null)return fO;else { const fQ=cB.A2(fO, fP);c$(fQ, da(fO)|da(fP));return fQ;} }
function c_(fO, fP){ return cB.A1(new e8(fO, fP));}
function c$(fO, fP){ fO.flags=fP;}
function da(fO){ return fO!==null&&fO.hasOwnProperty("flags")?fO.flags:0;}
function db(fO){ return dD((fP) => fP.NChanged, u0039(), $, fO.DynNodes);}
function dc(){ return eA.EmptyAttr;}
function dd(fO, fP){ const fQ=[];const fR=[];function fS(fV){ while(true){ if(!(fV===null)){ if(fV!=null&&fV.$==1)return fQ.push(fV.$0);else if(fV!=null&&fV.$==2){ const fW=fV.$1;const fX=fV.$0;fS(fX);fV=fW;} else return fV!=null&&fV.$==3?fV.$0(fO):fV!=null&&fV.$==4?fR.push(fV.$0):null;} else return null;} } fS(fP);const fT=fQ.slice(0);let fU=ez(fO, da(fP), fT, fR.length===0?null:dH((fV) => { A((fW) => { fW(fV);}, fR);}));return fU;}
function de(fO){ const fP=2;return(fO.DynFlags&fP)===fP;}
function df(fO){ return dk(fO, (fP, fQ) => fP.NGetExitAnim(fQ));}
function dg(fO){ const fP=1;return(fO.DynFlags&fP)===fP;}
function dh(fO){ return dk(fO, (fP, fQ) => fP.NGetEnterAnim(fQ));}
function di(fO){ const fP=4;return(fO.DynFlags&fP)===fP;}
function dj(fO){ return dk(fO, (fP, fQ) => fP.NGetChangeAnim(fQ));}
function dk(fO, fP){ return et(b7((fQ) => fP(fQ, fO.DynElem), fO.DynNodes));}
function dl(fO, fP){ b8((fQ) => { fQ.NSync(fO);}, fP.DynNodes);}
function dm(fO){ const fP=globalThis.document.createElement("div");if(!dn().test(fO)){ fP.appendChild(globalThis.document.createTextNode(fO));return fP;} else { const fQ=dr().exec(fO);const fR=bQ(fQ, null)?"":bM(fQ, 1).toLowerCase();const fS=(do_1())[fR];const fT=fS?fS:dp();fP.innerHTML=fT[1]+fO.replace(dq(), "<$1></$2>")+fT[2];function fU(fV, fW){ while(true){ if(fW===0)return fV;else { const fX=fW;fV=fV.lastChild;fW=fX-1;} } } return fU(fP, fT[0]);} }
function dn(){ return e9.rhtml;}
function do_1(){ return e9.wrapMap;}
function dp(){ return e9.defaultWrap;}
function dq(){ return e9.rxhtmlTag;}
function dr(){ return e9.rtagName;}
function ds(fO, fP, fQ){ const fR=fO.querySelectorAll(fP);for(let fS=0, fT=fR.length-1;fS<=fT;fS++)fQ(fR[fS]);}
function dt(fO, fP, fQ){ let fR;if(fQ.parentNode===fO){ const fS=fQ.nextSibling;let fT=bQ(fS, null)?null:fS;fR=fP===fT;} else fR=false;if(!fR)fO.insertBefore(fQ, fP);}
function du(fO, fP){ if(fP.parentNode===fO)fO.removeChild(fP);}
function dv(fO){ return dw(dR(), fO);}
function dw(fO, fP){ const fQ=fO(fP);return cB.Append(c8(fQ[0]), dA(fQ[1], fQ[2]));}
function dx(fO, fP){ return c_(fP, (fQ) =>(fR) => { fQ[fO]=fR;});}
function dy(fO, fP, fQ){ return c_(bb((fR, fS) =>[fR, fS], fP, fQ), (fR) =>(fS) => fS[0]?fR.setAttribute(fO, fS[1]):fR.removeAttribute(fO));}
function dz(fO, fP){ return c8((fQ) => { fQ.addEventListener(fO, (fR) =>(fP(fQ))(fR), false);});}
function dA(fO, fP){ return c_(fP, fO);}
function dB(fO){ if(fO instanceof Array)return fO;else if(fO instanceof bH)return b2(fO);else if(fO===null)return[];else { const fP=[];const fQ=u0030(fO);try { while(fQ.MoveNext())fP.push(fQ.Current);return fP;} finally { if(typeof fQ=="object"&&a(fQ))fQ.Dispose();} } }
function dC(fO, fP, fQ){ const fR=bN(fQ);function fS(fT){ return(fU) => { let fV;switch(fU<=0?0:fU===1?fT>=0&&fT<fR?1:(fV=fU,2):(fV=fU,2)){ case 0:return fO;case 1:return bM(fQ, fT);case 2:const fW=fU/2>>0;return fP((fS(fT))(fW), (fS(fT+fW))(fU-fW));} };} return(fS(0))(fR);}
function dD(fO, fP, fQ, fR){ const fS=bN(fR);function fT(fU){ return(fV) => { let fW;switch(fV<=0?0:fV===1?fU>=0&&fU<fS?1:(fW=fV,2):(fW=fV,2)){ case 0:return fP;case 1:return fO(bM(fR, fU));case 2:const fX=fV/2>>0;return fQ((fT(fU))(fX), (fT(fU+fX))(fV-fX));} };} return(fT(0))(fS);}
function dE(fO, fP){ for(let fQ=0, fR=fP.length-1;fQ<=fR;fQ++)fP[fQ]=fO(fP[fQ]);return fP;}
let dF=fH((fO) => class fP { static { dF=fO(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new cM("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new cM("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
let dG=fH((fO) => class fP extends u0034 { static { dG=fO(this);} equals;hash;data;count;SAdd(fQ){ return this.add(fQ);} Contains(fQ){ const fR=this.data[this.hash(fQ)];return fR==null?false:this.arrContains(fQ, fR);} add(fQ){ const fR=this.hash(fQ);const fS=this.data[fR];return fS==null?(this.data[fR]=[fQ],this.count=this.count+1,true):this.arrContains(fQ, fS)?false:(fS.push(fQ),this.count=this.count+1,true);} arrContains(fQ, fR){ let fS=true;let fT=0;const fU=fR.length;while(fS&&fT<fU)if(this.equals.apply(null, [fR[fT], fQ]))fS=false;else fT=fT+1;return!fS;} GetEnumerator(){ return u0030(fd(this.data));} ExceptWith(fQ){ const fR=u0030(fQ);try { while(fR.MoveNext())this.Remove(fR.Current);} finally { if(typeof fR=="object"&&a(fR))fR.Dispose();} } get Count(){ return this.count;} IntersectWith(fQ){ const fR=new dG("New_4", fQ, this.equals, this.hash);const fS=fd(this.data);for(let fU=0, fV=fS.length-1;fU<=fV;fU++){ const fT=fS[fU];if(!fR.Contains(fT))this.Remove(fT);} } Remove(fQ){ const fR=this.data[this.hash(fQ)];return fR==null?false:this.arrRemove(fQ, fR)&&(this.count=this.count-1,true);} CopyTo(fQ, fR){ const fS=fd(this.data);for(let fT=0, fU=fS.length-1;fT<=fU;fT++)bP(fQ, fT+fR, fS[fT]);} arrRemove(fQ, fR){ let fS=true;let fT=0;const fU=fR.length;while(fS&&fT<fU)if(this.equals.apply(null, [fR[fT], fQ])){ fR.splice(fT, 1);fS=false;} else fT=fT+1;return!fS;} static New_3(){ return new this("New_3");} static New_4(fQ, fR, fS){ return new this("New_4", fQ, fR, fS);} static New_2(fQ){ return new this("New_2", fQ);} constructor(fQ, fR, fS, fT){ if(fQ=="New_3"){ fQ="New_4";fR=[];fS=bQ;fT=bT;} let fU;if(fQ=="New_2"){ fU=fR;fQ="New_4";fR=fU;fS=bQ;fT=bT;} if(fQ=="New_4"){ const fV=fR;const fW=fS;const fX=fT;super();this.equals=fW;this.hash=fX;this.data=[];this.count=0;const fY=u0030(fV);try { while(fY.MoveNext())this.add(fY.Current);} finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} } } });
function dH(fO){ return{$:1, $0:fO};}
let dI=fH((fO) => class fP extends u0034 { static { dI=fO(this);} });
let dJ=fH((fO) => class fP { static { dJ=fO(this);} static Int;static lastId;static { this.lastId=[0];const fQ=[0];this.Int=() => { fQ[0]++;return fQ[0];};} });
function dK(fO){ return{$:0, $0:fO};}
function dL(fO, fP){ return{$:2, $0:fO, $1:fP};}
function dM(fO, fP){ return{$:3, $0:fO, $1:fP};}
function dN(){ dO(dP()+1);return dP();}
function dO(fO){ e4.counter=fO;}
function dP(){ return e4.counter;}
let dQ=fH((fO) => class fP { static { dQ=fO(this);} Attr;Children;Delimiters;El;ElKey;Render;Equals(fQ){ return this.ElKey===fQ.ElKey;} GetHashCode(){ return this.ElKey;} static New(fQ, fR, fS, fT, fU, fV){ const fW={Attr:fQ, Children:fR, El:fT, ElKey:fU};let fX=(fM(fW, "Delimiters", fS),fM(fW, "Render", fV),fW);return fI(dQ, fX);} });
function dR(){ return eA.StringApply;}
function dS(fO, fP, fQ){ let fR;fR=null;return[(fS) => { const fT=() => { fQ.UpdateMaybe((fU) => { let fV;fR=fO(fS);return fR!=null&&fR.$==1&&(!bQ(fR.$0, fU)&&(fV=[fR, fR.$0],true))?fV[0]:null;});};fS.addEventListener("change", fT);fS.addEventListener("input", fT);fS.addEventListener("keypress", fT);}, (fS) => { const fT=fP(fS);return(fU) => fU==null?null:fT(fU.$0);}, u0038((fS) => { let fT;return fR!=null&&fR.$==1&&(bQ(fR.$0, fS)&&(fT=fR.$0,true))?null:dH(fS);}, fQ.View)];}
function dT(){ return eA.StringSet;}
function dU(){ return eA.StringGet;}
function dV(){ return eA.StringListSet;}
function dW(){ return eA.StringListGet;}
function dX(){ return eA.DateTimeSetUnchecked;}
function dY(){ return eA.DateTimeGetUnchecked;}
function dZ(fO, fP, fQ){ let fR;fR=null;return[(fS) => { fS.addEventListener("change", () => { fQ.UpdateMaybe((fT) => { let fU;fR=fO(fS);return fR!=null&&fR.$==1&&(fR.$0!==fT&&(fU=[fR, fR.$0],true))?fU[0]:null;});});}, (fS) => { const fT=fP(fS);return(fU) => fU==null?null:fT(fU.$0);}, u0038((fS) => { let fT;return fR!=null&&fR.$==1&&(bQ(fR.$0, fS)&&(fT=fR.$0,true))?null:dH(fS);}, fQ.View)];}
function d0(){ return eA.FileSetUnchecked;}
function d1(){ return eA.FileGetUnchecked;}
function d2(){ return eA.IntSetUnchecked;}
function d3(){ return eA.IntGetUnchecked;}
function d4(){ return eA.IntSetChecked;}
function d5(){ return eA.IntGetChecked;}
function d6(){ return eA.FloatSetUnchecked;}
function d7(){ return eA.FloatGetUnchecked;}
function d8(){ return eA.FloatSetChecked;}
function d9(){ return eA.FloatGetChecked;}
let d_=fH((fO) => { fK(u0037);return class fP extends u0037 { static { d_=fO(this);} docNode_1;updates_1;elt;rvUpdates;static New(fQ, fR, fS){ const fT=cX(fQ, fR, fS.docNode);const fU=eB.Create(fS.updates);return new fP(ci(fT), $(db(fT.Attr), fU.v), fQ, fU);} constructor(fQ, fR, fS, fT){ super(fQ, fR);this.docNode_1=fQ;this.updates_1=fR;this.elt=fS;this.rvUpdates=fT;} };});
let d$=fH((fO) => class fP extends u0034 { static { d$=fO(this);} });
function ea(){ throw new fh("New");}
function eb(fO){ let fP=null;let fQ=0;const fR=fO.textContent;const fS=new RegExp(bA(), "g");while(fP=fS.exec(fR),fP!==null){ fO.parentNode.insertBefore(globalThis.document.createTextNode(ej(fR, dH(fQ), dH(fS.lastIndex-bM(fP, 0).length-1))), fO);fQ=fS.lastIndex;const fT=globalThis.document.createElement("span");fT.setAttribute("ws-replace", bM(fP, 1).toLowerCase());fO.parentNode.insertBefore(fT, fO);} fS.lastIndex=0;fO.textContent=ej(fR, dH(fQ), null);}
function ec(fO){ console.warn("Instantiating non-loaded template", fO);}
function ed(fO, fP, fQ){ const fR=fO.querySelector("[ws-replace]");return bQ(fR, null)?(console.warn("Filling non-existent text hole", fQ),null):(fR.parentNode.replaceChild(globalThis.document.createTextNode(fP), fR),dH(fR.getAttribute("ws-replace")));}
function ee(fO, fP){ const fQ=(fR) => { by(fO, "["+fR+"]", (fS) => { if(!fP.Contains(fS.getAttribute(fR)))fS.removeAttribute(fR);});};fQ("ws-attr");fQ("ws-onafterrender");fQ("ws-var");by(fO, "[ws-hole]", (fR) => { if(!fP.Contains(fR.getAttribute("ws-hole"))){ fR.removeAttribute("ws-hole");while(fR.hasChildNodes())fR.removeChild(fR.lastChild);} });by(fO, "[ws-replace]", (fR) => { if(!fP.Contains(fR.getAttribute("ws-replace")))fR.parentNode.removeChild(fR);});by(fO, "[ws-on]", (fR) => { fR.setAttribute("ws-on", O(" ", b6((fS) => fP.Contains(bM(P(fS, [":"], 1), 1)), P(fR.getAttribute("ws-on"), [" "], 1))));});by(fO, "[ws-attr-holes]", (fR) => { const fS=P(fR.getAttribute("ws-attr-holes"), [" "], 1);for(let fW=0, fX=fS.length-1;fW<=fX;fW++){ const fT=bM(fS, fW);let fU=new RegExp(bA(), "g");let fV=fR.getAttribute(fT).replace(fU, (fY, fZ) => fP.Contains(fZ)?fY:"");fR.setAttribute(fT, fV);} });}
function ef(fO, fP){ ei(fP);const fQ=fP.nodeName.toLowerCase();const fR=fO.querySelector("[ws-attr="+fQ+"]");if(bQ(fR, null))console.warn("Filling non-existent attr hole", fQ);else { fR.removeAttribute("ws-attr");for(let fT=0, fU=fP.attributes.length-1;fT<=fU;fT++){ const fS=fP.attributes.item(fT);if(fS.name=="class"&&fR.hasAttribute("class"))fR.setAttribute("class", fR.getAttribute("class")+" "+fS.nodeValue);else fR.setAttribute(fS.name, fS.nodeValue);} } }
function eg(fO, fP){ const fQ=(fR) => { by(fO, "["+fR+"]", (fS) => { let fT;const fU=(fT=null,[fP.TryGetValue(fS.getAttribute(fR).toLowerCase(), {get:() => fT, set:(fV) => { fT=fV;}}), fT]);if(fU[0])fS.setAttribute(fR, fU[1]);});};fQ("ws-hole");fQ("ws-replace");fQ("ws-attr");fQ("ws-onafterrender");fQ("ws-var");by(fO, "[ws-on]", (fR) => { fR.setAttribute("ws-on", O(" ", b7((fS) => { let fT;const fU=P(fS, [":"], 1);const fV=(fT=null,[fP.TryGetValue(bM(fU, 1), {get:() => fT, set:(fW) => { fT=fW;}}), fT]);return fV[0]?bM(fU, 0)+":"+fV[1]:fS;}, P(fR.getAttribute("ws-on"), [" "], 1))));});by(fO, "[ws-attr-holes]", (fR) => { const fS=P(fR.getAttribute("ws-attr-holes"), [" "], 1);for(let fT=0, fU=fS.length-1;fT<=fU;fT++)((() => { const fV=bM(fS, fT);return fR.setAttribute(fV, C((fW, fX) => { const fY=i(fX);return fW.replace(new RegExp("\\${"+fY[0]+"}", "ig"), "${"+fY[1]+"}");}, fR.getAttribute(fV), fP));})());});}
function eh(fO, fP, fQ){ while(true){ if(fO.hasChildNodes())fQ=fP.insertBefore(fO.lastChild, fQ);else return null;} }
function ei(fO){ const fP=fO.attributes;const fQ=[];const fR=[];const fS=[];for(let fX=0, fY=fP.length-1;fX<=fY;fX++){ const fT=fP.item(fX);if(Q(fT.nodeName, "ws-on")&&fT.nodeName!="ws-onafterrender"&&fT.nodeName!="ws-on"){ fQ.push(fT.nodeName);fR.push(ej(fT.nodeName, dH("ws-on".length), null)+":"+fT.nodeValue.toLowerCase());} else if(!Q(fT.nodeName, "ws-")&&(new RegExp(bA())).test(fT.nodeValue)){ let fU=new RegExp(bA(), "g");let fV=fT.nodeValue.replace(fU, (fZ, f0) =>"${"+f0.toLowerCase()+"}");fT.nodeValue=fV;fS.push(fT.nodeName);} else void 0;} if(!(fR.length==0))fO.setAttribute("ws-on", O(" ", fR));if(!(fS.length==0))fO.setAttribute("ws-attr-holes", O(" ", fS));const fW=(fZ) => { const f0=fO.getAttribute(fZ);if(f0==null){ } else fO.setAttribute(fZ, f0.toLowerCase());};fW("ws-hole");fW("ws-replace");fW("ws-attr");fW("ws-onafterrender");fW("ws-var");b8((fZ) => { fO.removeAttribute(fZ);}, fQ);}
function ej(fO, fP, fQ){ if(fP==null){ if(fQ!=null&&fQ.$==1){ const fR=fQ.$0;return fR<0?"":fO.slice(0, fR+1);} else return"";} else if(fQ==null)return fO.slice(fP.$0);else { const fS=fQ.$0;return fS<0?"":fO.slice(fP.$0, fS+1);} }
function ek(){ return h("The input sequence has an insufficient number of elements.");}
function el(fO, fP){ let fQ=true;let fR=0;while(fQ&&fR<bN(fP))if(bQ(fP[fR], fO))fQ=false;else fR=fR+1;return!fQ;}
function em(){ return h("The input must be non-negative.");}
let en=fH((fO) => class fP extends u0034 { static { en=fO(this);} d;GetEnumerator(){ return u0030(w((fQ) => fQ.K, this.d));} constructor(fQ){ super();this.d=fQ;} });
function eo(){ return eV();}
function ep(fO){ const fP=null;return eK(() => eL(er(() => { }, eW(fO)), () => { eX(fO);return eO(null);}));}
function eq(fO, fP){ return es(e$(fO.$0, fP.$0));}
function er(fO, fP){ const fQ=fP.Duration;if(fQ===0)return eM();else { const fR=(fS) => { function fT(fU){ return(fV) => { const fW=fV-fU;fP.Compute(fW);fO();return fW<=fQ?void requestAnimationFrame((fX) => {(fT(fU))(fX);}):fS();};} requestAnimationFrame((fU) => {(fT(fU))(fU);});};return eT((fS, fT, fU) => fR.apply(null, [fS, fT, fU]));} }
function es(fO){ return{$:0, $0:fO};}
function et(fO){ return es(fb(w(eZ, fO)));}
function eu(){ return es(fc());}
function ev(){ return e3.BatchUpdatesEnabled;}
function ew(fO){ const fP=[0];function fQ(){ const fR=null;return eK(() => eL(fO, () => { const fS=fP[0];return bQ(fS, 1)?(fP[0]=0,eM()):bQ(fS, 2)?(fP[0]=1,fQ()):eM();}));} return() => { const fR=fP[0];if(bQ(fR, 0)){ fP[0]=1;eN(fQ(), null);} else bQ(fR, 1)?fP[0]=2:void 0;};}
function ex(){ return dJ.Int;}
function ey(fO, fP, fQ){ bP(fO, fP, bM(fO, fQ));bP(fO, fQ, bM(fO, fP));}
function ez(fO, fP, fQ, fR){ const fS={DynElem:fO, DynFlags:fP, DynNodes:fQ};fM(fS, "OnAfterRender", fR);return fS;}
let eA=fH((fO) => class fP { static { eA=fO(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(f6) =>[(f7) => { f7.addEventListener("change", () => f6.Get()!=f7.checked?f6.Set(f7.checked):null);}, (f7) =>(f8) => f8!=null&&f8.$==1?void(f7.checked=f8.$0):null, u0038(dH, f6.View)];this.StringSet=(f6) =>(f7) => { f6.value=f7;};this.StringGet=(f6) => dH(f6.value);const fQ=dU();const fR=dT();this.StringApply=(f6) => dS(fQ, fR, f6);this.StringListSet=(f6) =>(f7) => { const f8=f6.options;for(let f9=0, f_=f8.length-1;f9<=f_;f9++)((() => { const f$=f8.item(f9);f$.selected=el(f$.value, f7);})());};this.StringListGet=(f6) => { const f7=f6.selectedOptions;return dH(b1(x(() => E((f8) =>[f7.item(f8).value], j(0, f7.length-1)))));};const fS=dW();const fT=dV();this.StringListApply=(f6) => dS(fS, fT, f6);this.DateTimeSetUnchecked=(f6) =>(f7) => { f6.value=(new Date(f7)).toLocaleString();};this.DateTimeGetUnchecked=(f6) => { let f7;let f8;const f9=f6.value;if(e6(f9))return dH(-8640000000000000);else { f7=0;const f_=ff(f9);let f$=f_!=null&&f_.$==1&&(f7=f_.$0,true);f8=[f$, f7];return f8[0]?dH(f8[1]):null;} };const fU=dY();const fV=dX();this.DateTimeApplyUnchecked=(f6) => dS(fU, fV, f6);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(f6) => { const f7=f6.files;return dH(b1(x(() => w((f8) => f7.item(f8), j(0, f7.length-1)))));};const fW=d1();const fX=d0();this.FileApplyUnchecked=(f6) => dZ(fW, fX, f6);this.IntSetUnchecked=(f6) =>(f7) => { f6.value=String(f7);};this.IntGetUnchecked=(f6) => { const f7=f6.value;if(e6(f7))return dH(0);else { const f8=+f7;return f8!==f8>>0?null:dH(f8);} };const fY=d3();const fZ=d2();this.IntApplyUnchecked=(f6) => dS(fY, fZ, f6);this.IntSetChecked=(f6) =>(f7) => { const f8=f7.Input;return f6.value!=f8?void(f6.value=f8):null;};this.IntGetChecked=(f6) => { let f7;let f8;const f9=f6.value;if(e6(f9))f7=(f6.checkValidity?f6.checkValidity():true)?e7.Blank(f9):e7.Invalid(f9);else { const f_=(f8=0,[cO(f9, {get:() => f8, set:(f$) => { f8=f$;}}), f8]);f7=f_[0]?e7.Valid(f_[1], f9):e7.Invalid(f9);} return dH(f7);};const f0=d5();const f1=d4();this.IntApplyChecked=(f6) => dS(f0, f1, f6);this.FloatSetUnchecked=(f6) =>(f7) => { f6.value=String(f7);};this.FloatGetUnchecked=(f6) => { const f7=f6.value;if(e6(f7))return dH(0);else { const f8=+f7;return isNaN(f8)?null:dH(f8);} };const f2=d7();const f3=d6();this.FloatApplyUnchecked=(f6) => dS(f2, f3, f6);this.FloatSetChecked=(f6) =>(f7) => { const f8=f7.Input;return f6.value!=f8?void(f6.value=f8):null;};this.FloatGetChecked=(f6) => { let f7;const f8=f6.value;if(e6(f8))f7=(f6.checkValidity?f6.checkValidity():true)?e7.Blank(f8):e7.Invalid(f8);else { const f9=+f8;f7=isNaN(f9)?e7.Invalid(f8):e7.Valid(f9, f8);} return dH(f7);};const f4=d9();const f5=d8();this.FloatApplyChecked=(f6) => dS(f4, f5, f6);} });
let eB=fH((fO) => class fP { static { eB=fO(this);} c;s;v;static Create(fQ){ let fR;fR=null;fR=eB.New(fQ, null, () => { let fS;fS=fR.s;return fS===null?(fS=cA(fR.c()),fR.s=fS,cl(fS, () => { fR.s=null;}),fS):fS;});return fR;} static New(fQ, fR, fS){ return fI(eB, {c:fQ, s:fR, v:fS});} });
function eC(fO, fP){ return{PreviousNodes:fO, Top:fP};}
function eD(){ return eF(new dG("New_3"));}
function eE(fO){ const fP=[];function fQ(fT, fU){ while(true)switch(fT){ case 0:if(fU!=null&&fU.$==0){ const fV=fU.$1;const fW=fU.$0;fQ(0, fW);fU=fV;} else if(fU!=null&&fU.$==1){ const fX=fU.$0;fU=fX;fT=1;} else if(fU!=null&&fU.$==2){ const fY=fU.$0;fU=fY.Current;} else if(fU!=null&&fU.$==6){ const fZ=fU.$0.Holes;return(((f0) =>(f1) => { b8(f0, f1);})(fS))(fZ);} else return null;break;case 1:fP.push(fU);fU=fU.Children;fT=0;break;} } function fR(fT){ return fQ(0, fT);} function fS(fT){ return fQ(1, fT);} fR(fO);return eF(new dG("New_2", fP));}
function eF(fO){ return{$:0, $0:fO};}
function eG(fO, fP){ return eF(fq(fO, fP.$0));}
function eH(fO, fP){ return eF(fr(fO.$0, fP.$0));}
function eI(fO){ return fs(fO.$0);}
function eJ(fO, fP){ return eF(ft(fO.$0, fP.$0));}
function eK(fO){ return(fP) => { try {(fO())(fP);} catch(fQ){ fP.k(fl(fQ));} };}
function eL(fO, fP){ return eQ((fQ) => { fO(fk((fR) => { if(fR.$==0){ const fS=fR.$0;eP().Fork(() => { try {(fP(fS))(fQ);} catch(fT){ fQ.k(fl(fT));} });} else eP().Fork(() => { fQ.k(fR);});}, fQ.ct));});}
function eM(){ return fo.Zero;}
function eN(fO, fP){ const fQ=(eR())[0];const fR=fP==null?fQ:fP.$0;eP().Fork(() => { if(!fR.c)fO(fk((fS) => { if(fS.$==1)eS(fS.$0);}, fR));});}
function eO(fO){ return(fP) => { fP.k(fm(fO));};}
function eP(){ return fo.scheduler;}
function eQ(fO){ return(fP) => { if(fP.ct.c)eU(fP);else fO(fP);};}
function eR(){ return fo.defCTS;}
function eS(fO){ console.log("WebSharper: Uncaught asynchronous exception", fO);}
function eT(fO){ return(fP) => { const fQ=[false];const fR=(fS) => { if(fQ[0])h("A continuation provided by Async.FromContinuations was invoked multiple times");else { fQ[0]=true;eP().Fork(fS);} };fO((fS) => { fR(() => { fP.k(fm(fS));});}, (fS) => { fR(() => { fP.k(fl(fS));});}, (fS) => { fR(() => { fP.k(fn(fS));});});};}
function eU(fO){ fO.k(fn(new fA("New", fO.ct)));}
function eV(){ return e_.UseAnimations;}
function eW(fO){ return eY(ca((fP) => fP.$==1?dH(fP.$0):null, fa(fO.$0)));}
function eX(fO){ b8((fP) => { if(fP.$==0)fP.$0();}, fa(fO.$0));}
function eY(fO){ const fP=dB(fO);const fQ=bN(fP);if(fQ===0)return e0();else if(fQ===1)return bM(fP, 0);else { const fR=K(w((fT) => fT.Duration, fP));const fS=b7((fT) => e2(fR, fT), fP);return e1(fR, (fT) => { b8((fU) => { fU.Compute(fT);}, fS);});} }
function eZ(fO){ return fO.$0;}
function e0(fO){ return e1(0, () => fO);}
function e1(fO, fP){ return{Compute:fP, Duration:fO};}
function e2(fO, fP){ const fQ=fP.Compute;const fR=fP.Duration;const fS=fB(() => fP.Compute(fP.Duration));return{Compute:(fT) => fT>=fR?fS.f():fQ(fT), Duration:fO};}
let e3=fH((fO) => class fP { static { e3=fO(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
let e4=fH((fO) => class fP { static { e4=fO(this);} static counter;static { this.counter=0;} });
function e5(fO){ fO.splice(0, bN(fO));}
function e6(fO){ return T(fe, fO);}
let e7=fH((fO) => class fP { static { e7=fO(this);} get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fQ){ return fI(fP, {$:2, $0:fQ});} static Invalid(fQ){ return fI(fP, {$:1, $0:fQ});} static Valid(fQ, fR){ return fI(fP, {$:0, $0:fQ, $1:fR});} });
let e8=fH((fO) => class fP extends u0034 { static { e8=fO(this);} push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fQ){ return eu();} NGetEnterAnim(fQ){ return eu();} NGetChangeAnim(fQ){ return eu();} NSync(fQ){ if(this.dirty){(this.push(fQ))(this.value);this.dirty=false;} } constructor(fQ, fR){ super();this.push=fR;this.value=void 0;this.dirty=false;this.updates=u0038((fS) => { this.value=fS;this.dirty=true;}, fQ);} });
let e9=fH((fO) => class fP { static { e9=fO(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fQ=[1, "<table>", "</table>"];let fR=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fQ], ["tbody", fQ], ["tfoot", fQ], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fR;this.defaultWrap=[0, "", ""];} });
let e_=fH((fO) => class fP { static { e_=fO(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=fj.Custom((fQ) => { const fR=fQ*fQ;return 3*fR-2*(fR*fQ);});this.UseAnimations=true;} });
function e$(fO, fP){ return fO.$==0?fP:fP.$==0?fO:{$:2, $0:fO, $1:fP};}
function fa(fO){ const fP=[];function fQ(fR){ while(true){ if(fR.$==1)return fP.push(fR.$0);else if(fR.$==2){ const fS=fR.$1;const fT=fR.$0;fQ(fT);fR=fS;} else return fR.$==3?b8((fU) => { fP.push(fU);}, fR.$0):null;} } fQ(fO);return fP.slice(0);}
function fb(fO){ const fP=dB(fO);return dC(fc(), e$, fP);}
function fc(){ return fE.Empty;}
function fd(fO){ let fP=[];let fQ;for(var fR in fO)fP.push.apply(fP, fO[fR]);return fP;}
function fe(fO){ return fO.match(new RegExp("\\s"))!==null;}
function ff(fO){ const fP=Date.parse(fO);return isNaN(fP)?null:dH(fP);}
function fg(fO, fP, fQ, fR){ const fS=+fO;const fT=fS===fS-fS%1&&fS>=fP&&fS<=fQ;if(fT)fR.set(fS);return fT;}
let fh=fH((fO) => { fK(Error);return class fP extends Error { static { fh=fO(this);} static New(){ return new this("New");} static New_1(fQ){ return new this("New_1", fQ);} constructor(fQ, fR){ if(fQ=="New"){ fQ="New_1";fR="The given key was not present in the dictionary.";} if(fQ=="New_1"){ const fS=fR;super(fS);} } };});
let fi=fH((fO) => class fP extends u0034 { static { fi=fO(this);} idle;robin;Fork(fQ){ this.robin.push(fQ);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fQ=Date.now();let fR=true;while(fR)if(this.robin.length===0){ this.idle=true;fR=false;} else {(this.robin.shift())();Date.now()-fQ>40?(setTimeout(() => { this.tick();}, 0),fR=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} });
let fj=fH((fO) => class fP extends u0034 { static { fj=fO(this);} transformTime;static Custom(fQ){ return new fP(fQ);} constructor(fQ){ super();this.transformTime=fQ;} });
function fk(fO, fP){ return{k:fO, ct:fP};}
function fl(fO){ return{$:1, $0:fO};}
function fm(fO){ return{$:0, $0:fO};}
function fn(fO){ return{$:2, $0:fO};}
let fo=fH((fO) => class fP { static { fo=fO(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=fp(false, []);this.scheduler=new fi();this.defCTS=[new fu()];this.Zero=eO();this.GetCT=(fQ) => { fQ.k(fm(fQ.ct));};} });
function fp(fO, fP){ return{c:fO, r:fP};}
function fq(fO, fP){ return new dG("New_2", b6(fO, fs(fP)));}
function fr(fO, fP){ const fQ=new dG("New_2", fs(fP));fQ.ExceptWith(fs(fO));return fQ;}
function fs(fO){ const fP=cb(fO.Count, void 0);fO.CopyTo(fP, 0);return fP;}
function ft(fO, fP){ const fQ=new dG("New_2", fs(fO));fQ.IntersectWith(fs(fP));return fQ;}
let fu=fH((fO) => class fP extends u0034 { static { fu=fO(this);} init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} });
function fv(fO, fP){ let fQ;if(fP!=null&&fP.$==1){ const fR=[];fQ=fP.$0[0].nextSibling;while(fQ!==fP.$0[1]){ fR.push(fQ);fQ=fQ.nextSibling;} return fz(fR);} else { let fS=fO.childNodes.length;const fT=fO.childNodes;let fU=cc(fS, (fV) => fT[fV]);return fz(fU);} }
function fw(fO, fP){ const fQ=fO.$0;return fz(b6((fR) => cd((fS) =>!(fR===fS), fQ), fP.$0));}
function fx(fO, fP){ b8(fO, fP.$0);}
function fy(fO){ const fP=[];function fQ(fR){ while(true){ if(fR!=null&&fR.$==2){ const fS=fR.$0;fR=fS.Current;} else if(fR!=null&&fR.$==1)return fP.push(fR.$0.El);else if(fR==null)return null;else if(fR!=null&&fR.$==5)return fP.push(fR.$0);else if(fR!=null&&fR.$==4)return fP.push(fR.$0.Text);else if(fR!=null&&fR.$==6){ const fT=fR.$0.Els;return(((fW) =>(fX) => { b8(fW, fX);})((fW) => { if(fW==null||fW.constructor===Object)fQ(fW);else fP.push(fW);}))(fT);} else { const fU=fR.$1;const fV=fR.$0;fQ(fV);fR=fU;} } } fQ(fO.Children);return fz(dB(fP));}
function fz(fO){ return{$:0, $0:fO};}
let fA=fH((fO) => { fK(Error);return class fP extends Error { static { fA=fO(this);} ct;static New(fQ){ return new this("New", fQ);} static New_1(fQ, fR, fS){ return new this("New_1", fQ, fR, fS);} constructor(fQ, fR, fS, fT){ let fU;if(fQ=="New"){ fU=fR;fQ="New_1";fR="The operation was canceled.";fS=null;fT=fU;} if(fQ=="New_1"){ const fV=fR;const fW=fS;const fX=fT;super(fV);this.inner=fW;this.ct=fX;} } };});
function fB(fO){ return fF(false, fO, fC);}
function fC(){ const fO=this.v();this.c=true;this.v=fO;this.f=fD;return fO;}
function fD(){ return this.v;}
let fE=fH((fO) => class fP { static { fE=fO(this);} static Empty;static { this.Empty={$:0};} });
function fF(fO, fP, fQ){ return{c:fO, v:fP, f:fQ};}
fN(() => { b();});
fG();

